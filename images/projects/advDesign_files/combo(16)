YUI.add("hermes-template-notification-photo-comment",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(4,i,0),data:i}))!=null?s:""},2:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,firstPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,firstPersonName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,count:t!=null?t.subPeopleCount:t,intlName:"notifications.NOTIF_PHOTO_COMMENT_YOURS_MULTI"},data:i}))+"\n"},4:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_PHOTO_COMMENT_YOURS"},data:i}))+"\n"},6:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))!=null?s:""},7:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{ownerName:(s=(s=t!=null?t.object:t)!=null?s.owner:s)!=null?s.displayname:s,ownerUrl:(s=(s=t!=null?t.object:t)!=null?s.owner:s)!=null?s.url:s,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,firstPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,firstPersonName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,count:t!=null?t.subPeopleCount:t,intlName:"notifications.NOTIF_PHOTO_COMMENT_OTHER_MULTI"},data:i}))+"\n"},9:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{ownerName:(s=(s=t!=null?t.object:t)!=null?s.owner:s)!=null?s.displayname:s,ownerUrl:(s=(s=t!=null?t.object:t)!=null?s.owner:s)!=null?s.url:s,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_PHOTO_COMMENT_OTHER"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},(s=(s=t!=null?t.object:t)!=null?s.owner:s)!=null?s.isMe:s,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(6,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-photo-comment",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-group-invite",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'<div class="notification">\n	\n	<a class="avatar group tiny no-menu" style="background-image: url('+u(o((s=t!=null?t.object:t)!=null?s.bestIconURL:s,t))+');" href="'+u(o((s=t!=null?t.object:t)!=null?s.url:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n			'+u((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{groupUrl:(s=t!=null?t.object:t)!=null?s.url:s,groupName:(s=t!=null?t.object:t)!=null?s.title:s,intlName:"notifications.NOTIF_GROUP_USER_INVITE"},data:i}))+"\n		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"	</div>\n\n</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-group-invite",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-added-to-gallery",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{count:t!=null?t.subCount:t,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondGalleryUrl:(s=(s=(s=t!=null?t.events:t)!=null?s["1"]:s)!=null?s.gallery:s)!=null?s.url:s,secondGalleryName:(s=(s=(s=t!=null?t.events:t)!=null?s["1"]:s)!=null?s.gallery:s)!=null?s.title:s,galleryUrl:(s=(s=t!=null?t.event:t)!=null?s.gallery:s)!=null?s.url:s,galleryName:(s=(s=t!=null?t.event:t)!=null?s.gallery:s)!=null?s.title:s,intlName:"notifications.NOTIF_GALLERY_MULTI"},data:i}))+"	\n"},3:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,galleryUrl:(s=(s=t!=null?t.event:t)!=null?s.gallery:s)!=null?s.url:s,galleryName:(s=(s=t!=null?t.event:t)!=null?s.gallery:s)!=null?s.title:s,intlName:"notifications.NOTIF_GALLERY"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression,f=t!=null?t:{};return'<div class="notification">\n	\n	<a class="avatar gallery tiny no-menu" style="background-image: url('+a(u((s=(s=(s=t!=null?t.event:t)!=null?s.gallery:s)!=null?s.iconurls:s)!=null?s.small:s,t))+');" href="'+a(u((s=(s=t!=null?t.event:t)!=null?s.gallery:s)!=null?s.url:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n'+((s=n["if"].call(f,t!=null?t.subCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+'	</div>\n\n	<a class="avatar '+a((o=(o=n.type||(t!=null?t.type:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(f,{name:"type",hash:{},data:i}):o))+' small" style="background-image: url('+a(u((s=(s=(s=t!=null?t.object:t)!=null?s.sizes:s)!=null?s.sq:s)!=null?s.url:s,t))+');" href="'+a(u((s=t!=null?t.object:t)!=null?s.url:s,t))+'"></a>\n\n</div>'},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-added-to-gallery",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-photo-fave",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,title:(s=t!=null?t.object:t)!=null?s.title:s,secondUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondOwner:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,ownerUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,owner:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,count:t!=null?t.subCount:t,intlName:"notifications.NOTIF_PHOTO_FAVE_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,ownerUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.url:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,title:(s=t!=null?t.object:t)!=null?s.title:s,owner:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_PHOTO_FAVE"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-photo-fave",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-shell",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression,f=t!=null?t:{},l=n.helperMissing;return'<div class="notification">\n	\n	<a class="avatar person tiny no-menu" style="background-image: url('+a(u((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.buddyicon:s,t))+');" href="'+a(u((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.profileURL:s,t))+'"></a>\n\n	'+a((n.outlet||t&&t.outlet||l).call(f,t!=null?t.details:t,!1,{name:"outlet",hash:{},data:i}))+'\n	\n	<a class="avatar '+a((o=(o=n.type||(t!=null?t.type:t))!=null?o:l,typeof o=="function"?o.call(f,{name:"type",hash:{},data:i}):o))+' small" style="background-image: url('+a(u((s=(s=(s=t!=null?t.object:t)!=null?s.sizes:s)!=null?s.sq:s)!=null?s.url:s,t))+');" href="'+a(u((s=t!=null?t.object:t)!=null?s.url:s,t))+'"></a>\n\n</div>'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-shell",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-notification-person-follow",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{time:t!=null?t.time:t,intlName:t!=null?t.intlName:t},data:i}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression,a=t!=null?t:{},f=n.helperMissing;return'<div class="notification">\n	\n	<a class="avatar person tiny no-menu" style="background-image: url('+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.buddyicon:s,t))+');" href="'+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.url:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n			'+u((n.intlHTMLMessage||t&&t.intlHTMLMessage||f).call(a,{name:"intlHTMLMessage",hash:{ownerUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.url:s,owner:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_PERSON_FOLLOW"},data:i}))+'\n		</span>\n		<span class="extra-info">\n			'+((s=(n.friendlySinceDate||t&&t.friendlySinceDate||f).call(a,(s=t!=null?t.event:t)!=null?s.timestamp:s,true,true,{name:"friendlySinceDate",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n		</span>\n	</div>\n\n</div>"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-person-follow",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-notification-tag",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{count:t!=null?t.subPeopleCount:t,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_TAGS_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_TAGS"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-tag",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-person",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(4,i,0),data:i}))!=null?s:""},2:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{count:t!=null?t.subPeopleCount:t,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_ADD_PEOPLE"},data:i}))+"\n"},4:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_ADD_PERSON"},data:i}))+"\n"},6:function(e,t,n,r,i){var s;return"		"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,ownerUrl:(s=(s=t!=null?t.event:t)!=null?s.tagger:s)!=null?s.profileURL:s,ownerName:(s=(s=t!=null?t.event:t)!=null?s.tagger:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_ADD_ME"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},(s=(s=t!=null?t.object:t)!=null?s.owner:s)!=null?s.isMe:s,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(6,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-person",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-mention",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"		"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{count:t!=null?t.subPeopleCount:t,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_MENTION_MULTI"},data:i}))+"	\n"},3:function(e,t,n,r,i){var s;return"		"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_MENTION"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-mention",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-photo-group-invite",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{count:t!=null?t.subGroupsCount:t,secondGroupUrl:(s=(s=t!=null?t.groups:t)!=null?s["1"]:s)!=null?s.url:s,secondGroupName:(s=(s=t!=null?t.groups:t)!=null?s["1"]:s)!=null?s.title:s,groupUrl:(s=(s=t!=null?t.groups:t)!=null?s["0"]:s)!=null?s.url:s,groupName:(s=(s=t!=null?t.groups:t)!=null?s["0"]:s)!=null?s.title:s,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,intlName:"notifications.NOTIF_PHOTO_GROUP_INVITE_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{groupUrl:(s=(s=t!=null?t.groups:t)!=null?s["0"]:s)!=null?s.url:s,groupName:(s=(s=t!=null?t.groups:t)!=null?s["0"]:s)!=null?s.title:s,ownerUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.url:s,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,title:(s=t!=null?t.object:t)!=null?s.title:s,owner:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_PHOTO_GROUP_INVITE"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression,f=t!=null?t:{};return'<div class="notification">\n	\n	<a class="avatar group tiny no-menu" style="background-image: url('+a(u((s=(s=t!=null?t.event:t)!=null?s.group:s)!=null?s.bestIconURL:s,t))+');" href="'+a(u((s=(s=t!=null?t.event:t)!=null?s.group:s)!=null?s.url:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n'+((s=n["if"].call(f,t!=null?t.subGroupsCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+'	</div>\n\n	<a class="avatar '+a((o=(o=n.type||(t!=null?t.type:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(f,{name:"type",hash:{},data:i}):o))+' small" style="background-image: url('+a(u((s=(s=(s=t!=null?t.object:t)!=null?s.sizes:s)!=null?s.sq:s)!=null?s.url:s,t))+');" href="'+a(u((s=t!=null?t.object:t)!=null?s.url:s,t))+'"></a>\n\n</div>\n'},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-photo-group-invite",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-photo-note",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,count:t!=null?t.subPeopleCount:t,intlName:"notifications.NOTIF_NOTES_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.url:s,personName:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_NOTES"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-photo-note",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-photo-share",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,count:t!=null?t.subPeopleCount:t,intlName:"notifications.NOTIF_SHARE_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"			"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,personUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.url:s,personName:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_SHARE"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<div class="details">\n	<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"	</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-photo-share",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-group-discussion-reply",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{count:t!=null?t.subPeopleCount:t,mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,groupUrl:(s=t!=null?t.object:t)!=null?s.groupUrl:s,groupName:(s=t!=null?t.object:t)!=null?s.groupName:s,replyUrl:t!=null?t.replyUrl:t,objectTitle:(s=t!=null?t.object:t)!=null?s.title:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_GROUP_DISCUSSION_REPLY_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{mediaType:(s=t!=null?t.object:t)!=null?s.mediaType:s,groupUrl:(s=t!=null?t.object:t)!=null?s.groupUrl:s,groupName:(s=t!=null?t.object:t)!=null?s.groupName:s,replyUrl:t!=null?t.replyUrl:t,objectTitle:(s=t!=null?t.object:t)!=null?s.title:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_GROUP_DISCUSSION_REPLY"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'<div class="notification">\n	\n	<a class="avatar group tiny no-menu" style="background-image: url('+u(o((s=(s=t!=null?t.object:t)!=null?s.group:s)!=null?s.bestIconURL:s,t))+');" href="'+u(o((s=t!=null?t.object:t)!=null?s.groupUrl:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"	</div>\n\n</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-group-discussion-reply",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-gallery-comment",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,objectName:(s=t!=null?t.object:t)!=null?s.title:s,secondPersonUrl:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.url:s,secondPersonName:(s=(s=t!=null?t.people:t)!=null?s["1"]:s)!=null?s.name:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,count:t!=null?t.subPeopleCount:t,intlName:"notifications.NOTIF_GALLERY_COMMENT_MULTI"},data:i}))+"\n"},3:function(e,t,n,r,i){var s;return"				"+e.escapeExpression((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{objectUrl:(s=t!=null?t.object:t)!=null?s.url:s,objectName:(s=t!=null?t.object:t)!=null?s.title:s,personUrl:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.url:s,personName:(s=(s=t!=null?t.people:t)!=null?s["0"]:s)!=null?s.name:s,intlName:"notifications.NOTIF_GALLERY_COMMENT"},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'<div class="notification">\n	\n	<a class="avatar person tiny no-menu" style="background-image: url('+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.buddyicon:s,t))+');" href="'+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.profileURL:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n'+((s=n["if"].call(t!=null?t:{},t!=null?t.subPeopleCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+"		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"	</div>\n</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-gallery-comment",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-friend-join",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'<div class="notification">\n	\n	<a class="avatar person tiny no-menu" style="background-image: url('+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.buddyicon:s,t))+');" href="'+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.profileURL:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n			'+u((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{personUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.profileURL:s,personName:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_FRIEND_JOIN"},data:i}))+"\n		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"	</div>\n</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-friend-join",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("hermes-template-notification-group-topic-new",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'<div class="notification">\n	\n	<a class="avatar person tiny no-menu" style="background-image: url('+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.buddyicon:s,t))+');" href="'+u(o((s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.profileURL:s,t))+'"></a>\n\n	<div class="details">\n		<span class="headline">\n			'+u((n.intlHTMLMessage||t&&t.intlHTMLMessage||n.helperMissing).call(t!=null?t:{},{name:"intlHTMLMessage",hash:{groupUrl:(s=(s=t!=null?t.object:t)!=null?s.group:s)!=null?s.url:s,groupName:(s=(s=t!=null?t.object:t)!=null?s.group:s)!=null?s.title:s,discussionUrl:(s=t!=null?t.object:t)!=null?s.url:s,discussionName:(s=t!=null?t.object:t)!=null?s.title:s,personUrl:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.profileURL:s,personName:(s=(s=t!=null?t.event:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"notifications.NOTIF_NEW_GROUP_DISCUSSION"},data:i}))+"\n		</span>\n\n"+((s=e.invokePartial(r["notification-photo-extra-info"],t,{name:"notification-photo-extra-info",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"	</div>\n</div>"},usePartial:!0,useData:!0}),r={};e.Array.each(["notification-photo-extra-info"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notification-group-topic-new",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-notification-photo-extra-info"]});
YUI.add("notification-view",function(e){var t=e.flutil;e.namespace("Views")[this.name]=e.Base.create("notification-view",e.FlickrView,[],{langBundles:this.details.langBundles,registries:{person:"person-models",photo:"photo-models",group:"group-info-models"},initializer:function(e){return this.objectId=e.objectId,this.object=e.object,this.objectType=e.objectType,this.subevents=e.events,this},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e={object:this.object,type:this.objectType,event:this.subevents[0],subCount:this.subevents.length-1,viewer:this.appContext.getViewer(),eventCount:this.subevents.length,events:this.subevents},n;if(this.objectType==="photo"){for(var r=0;r<e.events.length;r++)e.events[r].owner.url="/photos/"+e.events[r].owner.pathAlias||e.events[r].owner.id;e.event.type!=="group-invite"&&(e.people=this.getEventOwners(e.events),e.peopleCount=e.people.length,e.subPeopleCount=e.people.length-1);if(e.event.type==="comment")n="notification-photo-comment";else if(e.event.type==="fave")n="notification-photo-fave";else{if(e.event.type==="gallery")return n="notification-added-to-gallery",this.setContainerWithTemplate(n,e),this;if(e.event.type==="people")n="notification-person";else if(e.event.type==="tag")n="notification-tag";else if(e.event.type==="photo_comment_mention")n="notification-mention";else{if(e.event.type==="group_invite")return e.groups=this.getEventGroups(e.events),e.groupsCount=e.groups.length,e.subGroupsCount=e.groups.length-1,n="notification-photo-group-invite",this.setContainerWithTemplate(n,e),this;e.event.type==="note"?n="notification-photo-note":e.event.type==="share"&&(n="notification-photo-share")}}}else if(this.objectType==="person"){if(e.event&&e.event.type==="contacted")return e.event.owner.url="/photos/"+e.event.owner.pathAlias||e.event.owner.id,this.setContainerWithTemplate("notification-person-follow",e),this;e.event&&e.event.type==="friend_join"&&this.setContainerWithTemplate("notification-friend-join",e)}else{if(this.objectType==="group")return e.event&&e.event.type==="group_user_invite"&&this.setContainerWithTemplate("notification-group-invite",e),this;if(this.objectType==="discussion")return e.event&&(e.event.type==="topic_reply"||e.event.type==="reply_reply")&&(e.people=this.getEventOwners(e.events),e.peopleCount=e.people.length,e.subPeopleCount=e.people.length-1,e.replyUrl=e.object.url+"/"+e.event.replyId,this.setContainerWithTemplate("notification-group-discussion-reply",e)),e.event&&e.event.type==="group_topic_new"&&this.setContainerWithTemplate("notification-group-topic-new",e),this;this.objectType==="gallery"&&e.event.type==="comment"&&(e.people=this.getEventOwners(e.events),e.peopleCount=e.people.length,e.subPeopleCount=e.people.length-1,this.setContainerWithTemplate("notification-gallery-comment",e))}return n&&this.setContainerWithTemplate("notification-shell",t.extend({details:this.templates(n)(e)},e)),this},activate:function(){return this},headline:function(){},getTaggedPeople:function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n],i={id:r.personTagged.id,name:r.personTagged.displayname,url:r.personTagged.profileURL},s=!1;for(var o=0;o<t.length;o++)if(t[o].id===i.id){s=!0;break}s||t.push(i)}return t},getEventOwners:function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n],i={id:r.owner.id,name:r.owner.displayname,url:r.owner.profileURL},s=!1;for(var o=0;o<t.length;o++)if(t[o].id===i.id){s=!0;break}s||t.push(i)}return t},getEventGroups:function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n],i={id:r.group.id,title:r.group.title,url:r.group.url,iconUrl:r.group.bestIconURL},s=!1;for(var o=0;o<t.length;o++)if(t[o].id===i.id){s=!0;break}s||t.push(i)}return t}})},"@VERSION@",{requires:["flutil","flickr-view","flickr-promise","hermes-template-notifications","hermes-template-notification-photo-comment","hermes-template-notification-group-invite","hermes-template-notification-added-to-gallery","hermes-template-notification-photo-fave","hermes-template-notification-shell","hermes-template-notification-person-follow","hermes-template-notification-tag","hermes-template-notification-person","hermes-template-notification-mention","hermes-template-notification-photo-group-invite","hermes-template-notification-photo-extra-info","hermes-template-notification-photo-note","hermes-template-notification-photo-share","hermes-template-notification-group-discussion-reply","hermes-template-notification-gallery-comment","hermes-template-notification-friend-join","hermes-template-notification-group-topic-new"],langBundles:["common","relative-dates","notifications"]});
